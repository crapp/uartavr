<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>avruart: /home/saedelaere/Projekte/embedded/uartavr/src/uart.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">avruart
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">uart.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;inttypes.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;avr/io.h&gt;</code><br />
<code>#include &lt;util/atomic.h&gt;</code><br />
<code>#include &lt;util/setbaud.h&gt;</code><br />
</div>
<p><a href="uart_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_dir_buff.html">DirBuff</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Presenting a circular buffer.  <a href="struct_dir_buff.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c_buffer.html">CBuffer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This holds the circular buffers.  <a href="struct_c_buffer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_a_r_tcfg.html">UARTcfg</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A struct to configure the UART.  <a href="struct_u_a_r_tcfg.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a43bafb28b29491ec7f871319b5a3b2f8"><td class="memItemLeft" align="right" valign="top"><a id="a43bafb28b29491ec7f871319b5a3b2f8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>F_CPU</b>&#160;&#160;&#160;16000000UL /* 16MHz Âµc */</td></tr>
<tr class="separator:a43bafb28b29491ec7f871319b5a3b2f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62634036639f88eece6fbf226b45f84b"><td class="memItemLeft" align="right" valign="top"><a id="a62634036639f88eece6fbf226b45f84b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BAUD</b>&#160;&#160;&#160;9600L</td></tr>
<tr class="separator:a62634036639f88eece6fbf226b45f84b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a980b94826560528d452e824f5b9dd2da"><td class="memItemLeft" align="right" valign="top"><a id="a980b94826560528d452e824f5b9dd2da"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8h.html#a980b94826560528d452e824f5b9dd2da">UARTAVR_VERSION_MAJOR</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:a980b94826560528d452e824f5b9dd2da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Version major. <br /></td></tr>
<tr class="separator:a980b94826560528d452e824f5b9dd2da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc289653be938729b930d0f8719fe27b"><td class="memItemLeft" align="right" valign="top"><a id="adc289653be938729b930d0f8719fe27b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8h.html#adc289653be938729b930d0f8719fe27b">UARTAVR_VERSION_MINOR</a>&#160;&#160;&#160;3</td></tr>
<tr class="memdesc:adc289653be938729b930d0f8719fe27b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Version minor. <br /></td></tr>
<tr class="separator:adc289653be938729b930d0f8719fe27b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a770f1c2cf7442e763533e5fd90123884"><td class="memItemLeft" align="right" valign="top"><a id="a770f1c2cf7442e763533e5fd90123884"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8h.html#a770f1c2cf7442e763533e5fd90123884">UARTAVR_VERSION_PATCH</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:a770f1c2cf7442e763533e5fd90123884"><td class="mdescLeft">&#160;</td><td class="mdescRight">Version patch. <br /></td></tr>
<tr class="separator:a770f1c2cf7442e763533e5fd90123884"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a876ce77f3c672c7162658151e648389e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8h.html#a876ce77f3c672c7162658151e648389e">CR</a>&#160;&#160;&#160;&quot;\n\r&quot;</td></tr>
<tr class="memdesc:a876ce77f3c672c7162658151e648389e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define the line ending you need. This one will work with minicom on linux.  <a href="#a876ce77f3c672c7162658151e648389e">More...</a><br /></td></tr>
<tr class="separator:a876ce77f3c672c7162658151e648389e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70d82fcddbdb248815026167737f7ac1"><td class="memItemLeft" align="right" valign="top"><a id="a70d82fcddbdb248815026167737f7ac1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8h.html#a70d82fcddbdb248815026167737f7ac1">CR_PRINTF</a>&#160;&#160;&#160;&quot;\r&quot;</td></tr>
<tr class="memdesc:a70d82fcddbdb248815026167737f7ac1"><td class="mdescLeft">&#160;</td><td class="mdescRight">If set this sign well be send whenever <a class="el" href="uart_8h.html#ae31b3b65e9273640bf4cc0fdab139dfd" title="The FILE stream method for uartavr_stdout. ">puts_printf_UART()</a> sees a newline character. <br /></td></tr>
<tr class="separator:a70d82fcddbdb248815026167737f7ac1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39912bfe2a55f30e269196f9141d845d"><td class="memItemLeft" align="right" valign="top"><a id="a39912bfe2a55f30e269196f9141d845d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8h.html#a39912bfe2a55f30e269196f9141d845d">BUFFSIZE</a>&#160;&#160;&#160;64</td></tr>
<tr class="memdesc:a39912bfe2a55f30e269196f9141d845d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The buffer size for the RX and TX buffers. <br /></td></tr>
<tr class="separator:a39912bfe2a55f30e269196f9141d845d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ac83ecd1d4bcfc75b24110a55b88d4df3"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8h.html#ac83ecd1d4bcfc75b24110a55b88d4df3">DIR_BUFFS</a> { <a class="el" href="uart_8h.html#ac83ecd1d4bcfc75b24110a55b88d4df3a4106b11850acac8bd89d7b0f183858a8">RX_BUFF</a>, 
<a class="el" href="uart_8h.html#ac83ecd1d4bcfc75b24110a55b88d4df3a4dc4ac2de3e35515540fc956280fc55a">TX_BUFF</a>
 }<tr class="memdesc:ac83ecd1d4bcfc75b24110a55b88d4df3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Identifier for direction buffer.  <a href="uart_8h.html#ac83ecd1d4bcfc75b24110a55b88d4df3">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ac83ecd1d4bcfc75b24110a55b88d4df3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac511b2843e5fc51d88a0a8e4ae839983"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8h.html#ac511b2843e5fc51d88a0a8e4ae839983">cb_init</a> (void)</td></tr>
<tr class="memdesc:ac511b2843e5fc51d88a0a8e4ae839983"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the circular buffer structure.  <a href="#ac511b2843e5fc51d88a0a8e4ae839983">More...</a><br /></td></tr>
<tr class="separator:ac511b2843e5fc51d88a0a8e4ae839983"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f832fa8a65a39aebf661c1f9e2b1395"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8h.html#a3f832fa8a65a39aebf661c1f9e2b1395">get_direction_buffer</a> (enum <a class="el" href="uart_8h.html#ac83ecd1d4bcfc75b24110a55b88d4df3">DIR_BUFFS</a> dir, struct <a class="el" href="struct_dir_buff.html">DirBuff</a> **dbuff)</td></tr>
<tr class="memdesc:a3f832fa8a65a39aebf661c1f9e2b1395"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a direction buffer struct from <a class="el" href="struct_c_buffer.html" title="This holds the circular buffers. ">CBuffer</a>.  <a href="#a3f832fa8a65a39aebf661c1f9e2b1395">More...</a><br /></td></tr>
<tr class="separator:a3f832fa8a65a39aebf661c1f9e2b1395"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6384725182051b19dc93898dd1f5659d"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8h.html#a6384725182051b19dc93898dd1f5659d">cb_pop</a> (char *c, enum <a class="el" href="uart_8h.html#ac83ecd1d4bcfc75b24110a55b88d4df3">DIR_BUFFS</a> dir)</td></tr>
<tr class="memdesc:a6384725182051b19dc93898dd1f5659d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get one byte from the circular buffer.  <a href="#a6384725182051b19dc93898dd1f5659d">More...</a><br /></td></tr>
<tr class="separator:a6384725182051b19dc93898dd1f5659d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52fa692f1b71f45188b6e2be77c77e41"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8h.html#a52fa692f1b71f45188b6e2be77c77e41">cp_push</a> (char c, enum <a class="el" href="uart_8h.html#ac83ecd1d4bcfc75b24110a55b88d4df3">DIR_BUFFS</a> dir)</td></tr>
<tr class="memdesc:a52fa692f1b71f45188b6e2be77c77e41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Put one byte in the circular buffer.  <a href="#a52fa692f1b71f45188b6e2be77c77e41">More...</a><br /></td></tr>
<tr class="separator:a52fa692f1b71f45188b6e2be77c77e41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff8a2f39d91eb4ea4f5d26fd85ef8709"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8h.html#aff8a2f39d91eb4ea4f5d26fd85ef8709">init_uart_cfg</a> (struct <a class="el" href="struct_u_a_r_tcfg.html">UARTcfg</a> *cfg)</td></tr>
<tr class="memdesc:aff8a2f39d91eb4ea4f5d26fd85ef8709"><td class="mdescLeft">&#160;</td><td class="mdescRight">Init a cfg struct with the default values.  <a href="#aff8a2f39d91eb4ea4f5d26fd85ef8709">More...</a><br /></td></tr>
<tr class="separator:aff8a2f39d91eb4ea4f5d26fd85ef8709"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f18cca034054ed763bff6eb168b2fb8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8h.html#a6f18cca034054ed763bff6eb168b2fb8">init_UART</a> (const struct <a class="el" href="struct_u_a_r_tcfg.html">UARTcfg</a> *cfg)</td></tr>
<tr class="memdesc:a6f18cca034054ed763bff6eb168b2fb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the UART on the microcontroller.  <a href="#a6f18cca034054ed763bff6eb168b2fb8">More...</a><br /></td></tr>
<tr class="separator:a6f18cca034054ed763bff6eb168b2fb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae951f2378df19e6da62724dd2f7e0272"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8h.html#ae951f2378df19e6da62724dd2f7e0272">put_UART</a> (const char c)</td></tr>
<tr class="memdesc:ae951f2378df19e6da62724dd2f7e0272"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a single character.  <a href="#ae951f2378df19e6da62724dd2f7e0272">More...</a><br /></td></tr>
<tr class="separator:ae951f2378df19e6da62724dd2f7e0272"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a0232d230a0f1e6bdf4430504e9aaee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8h.html#a0a0232d230a0f1e6bdf4430504e9aaee">puts_UART</a> (const char *s)</td></tr>
<tr class="memdesc:a0a0232d230a0f1e6bdf4430504e9aaee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a string to the UART buffer.  <a href="#a0a0232d230a0f1e6bdf4430504e9aaee">More...</a><br /></td></tr>
<tr class="separator:a0a0232d230a0f1e6bdf4430504e9aaee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec51ee2aae1216cfadac19267cff5a27"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8h.html#aec51ee2aae1216cfadac19267cff5a27">get_UART</a> (char *s)</td></tr>
<tr class="memdesc:aec51ee2aae1216cfadac19267cff5a27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve one char from the buffer.  <a href="#aec51ee2aae1216cfadac19267cff5a27">More...</a><br /></td></tr>
<tr class="separator:aec51ee2aae1216cfadac19267cff5a27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a6d5727b954b0c38fbd51cbbb38ce00"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8h.html#a4a6d5727b954b0c38fbd51cbbb38ce00">gets_UART</a> (char *s)</td></tr>
<tr class="memdesc:a4a6d5727b954b0c38fbd51cbbb38ce00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all data from the circular buffer.  <a href="#a4a6d5727b954b0c38fbd51cbbb38ce00">More...</a><br /></td></tr>
<tr class="separator:a4a6d5727b954b0c38fbd51cbbb38ce00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae31b3b65e9273640bf4cc0fdab139dfd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8h.html#ae31b3b65e9273640bf4cc0fdab139dfd">puts_printf_UART</a> (char c, FILE *stream)</td></tr>
<tr class="memdesc:ae31b3b65e9273640bf4cc0fdab139dfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">The FILE stream method for uartavr_stdout.  <a href="#ae31b3b65e9273640bf4cc0fdab139dfd">More...</a><br /></td></tr>
<tr class="separator:ae31b3b65e9273640bf4cc0fdab139dfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0cee5575d5636e734232ff416862f9ed"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="struct_c_buffer.html">CBuffer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8h.html#a0cee5575d5636e734232ff416862f9ed">cb</a></td></tr>
<tr class="separator:a0cee5575d5636e734232ff416862f9ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Christian Rapp </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2016 </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>BSD-3-Clause </dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>This library was written and tested fo the Atmege328P microcontroller. You may need to change the registers if you want to port this to a different AVR.</dd></dl>
<p>uartavr is a simple interrupt driven UART implementation for Atmel AVRs. This library uses a circular buffer data structure to store data that should be send or was received. In general the user does not have to interact directly with this buffer as there are some convenience methods already available.</p>
<p>In order to use this implementation you have to use <a href="http://www.nongnu.org/avr-libc/user-manual/group__avr__interrupts.html#gaad5ebd34cb344c26ac87594f79b06b73">sei</a> which enables interrupts by setting the global interrupt mask. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a876ce77f3c672c7162658151e648389e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a876ce77f3c672c7162658151e648389e">&sect;&nbsp;</a></span>CR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CR&#160;&#160;&#160;&quot;\n\r&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define the line ending you need. This one will work with minicom on linux. </p>
<p>This will automatically appended to all strings that you want to send using <a class="el" href="uart_8h.html#a0a0232d230a0f1e6bdf4430504e9aaee" title="Write a string to the UART buffer. ">puts_UART()</a> </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ac83ecd1d4bcfc75b24110a55b88d4df3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac83ecd1d4bcfc75b24110a55b88d4df3">&sect;&nbsp;</a></span>DIR_BUFFS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="uart_8h.html#ac83ecd1d4bcfc75b24110a55b88d4df3">DIR_BUFFS</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Identifier for direction buffer. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ac83ecd1d4bcfc75b24110a55b88d4df3a4106b11850acac8bd89d7b0f183858a8"></a>RX_BUFF&#160;</td><td class="fielddoc"><p>RX Buffer identifier </p>
</td></tr>
<tr><td class="fieldname"><a id="ac83ecd1d4bcfc75b24110a55b88d4df3a4dc4ac2de3e35515540fc956280fc55a"></a>TX_BUFF&#160;</td><td class="fielddoc"><p>TX Buffer identifier </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac511b2843e5fc51d88a0a8e4ae839983"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac511b2843e5fc51d88a0a8e4ae839983">&sect;&nbsp;</a></span>cb_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cb_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the circular buffer structure. </p>
<dl class="section warning"><dt>Warning</dt><dd>Do not call this function yourself. The <a class="el" href="uart_8h.html#a6f18cca034054ed763bff6eb168b2fb8" title="Initialize the UART on the microcontroller. ">init_UART()</a> function takes care of this. </dd></dl>

</div>
</div>
<a id="a6384725182051b19dc93898dd1f5659d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6384725182051b19dc93898dd1f5659d">&sect;&nbsp;</a></span>cb_pop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t cb_pop </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="uart_8h.html#ac83ecd1d4bcfc75b24110a55b88d4df3">DIR_BUFFS</a>&#160;</td>
          <td class="paramname"><em>dir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get one byte from the circular buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>Pointer to char variable </td></tr>
    <tr><td class="paramname">dir</td><td>Get the byte from the TX or RX buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 If the byte has been retrieved, 1 if the buffer is empty </dd></dl>

</div>
</div>
<a id="a52fa692f1b71f45188b6e2be77c77e41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52fa692f1b71f45188b6e2be77c77e41">&sect;&nbsp;</a></span>cp_push()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t cp_push </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="uart_8h.html#ac83ecd1d4bcfc75b24110a55b88d4df3">DIR_BUFFS</a>&#160;</td>
          <td class="paramname"><em>dir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Put one byte in the circular buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>A char variable </td></tr>
    <tr><td class="paramname">dir</td><td>Put the byte on the TX or RX buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 If the byte has written successfully, 1 if the buffer is full </dd></dl>

</div>
</div>
<a id="a3f832fa8a65a39aebf661c1f9e2b1395"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f832fa8a65a39aebf661c1f9e2b1395">&sect;&nbsp;</a></span>get_direction_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void get_direction_buffer </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="uart_8h.html#ac83ecd1d4bcfc75b24110a55b88d4df3">DIR_BUFFS</a>&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_dir_buff.html">DirBuff</a> **&#160;</td>
          <td class="paramname"><em>dbuff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a direction buffer struct from <a class="el" href="struct_c_buffer.html" title="This holds the circular buffers. ">CBuffer</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dir</td><td>RX or TX </td></tr>
    <tr><td class="paramname">dbuff</td><td>** to a <a class="el" href="struct_dir_buff.html" title="Presenting a circular buffer. ">DirBuff</a> struct </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aec51ee2aae1216cfadac19267cff5a27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec51ee2aae1216cfadac19267cff5a27">&sect;&nbsp;</a></span>get_UART()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t get_UART </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve one char from the buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>Pointer to a char variable</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 If character was retrieved, 1 otherwise </dd></dl>

</div>
</div>
<a id="a4a6d5727b954b0c38fbd51cbbb38ce00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a6d5727b954b0c38fbd51cbbb38ce00">&sect;&nbsp;</a></span>gets_UART()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t gets_UART </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get all data from the circular buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>Pointer an array which this function uses to store the data from cb </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success or 1 if something went wrong</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Make sure your char array has enough room for the data in the circular buffer plus <code>\0</code> as termination character. You can get the numbers of items in the buffer with <a class="el" href="struct_dir_buff.html#a172b85ef8ac505af2599402f7e390354">DirBuff::items</a> </dd></dl>

</div>
</div>
<a id="a6f18cca034054ed763bff6eb168b2fb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f18cca034054ed763bff6eb168b2fb8">&sect;&nbsp;</a></span>init_UART()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_UART </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="struct_u_a_r_tcfg.html">UARTcfg</a> *&#160;</td>
          <td class="paramname"><em>cfg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the UART on the microcontroller. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cfg</td><td>Pointer to a <a class="el" href="struct_u_a_r_tcfg.html" title="A struct to configure the UART. ">UARTcfg</a> struct with the configuration for the UART</td></tr>
  </table>
  </dd>
</dl>
<p>Some configuration options are currently fixed. The UART will always be setup in 8N1 mode. This may be changed in the future.</p>
<p>This method also initializes a circular buffer. So there is no need to call <a class="el" href="uart_8h.html#ac511b2843e5fc51d88a0a8e4ae839983" title="Initializes the circular buffer structure. ">cb_init()</a> yourself. </p>

</div>
</div>
<a id="aff8a2f39d91eb4ea4f5d26fd85ef8709"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff8a2f39d91eb4ea4f5d26fd85ef8709">&sect;&nbsp;</a></span>init_uart_cfg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_uart_cfg </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_u_a_r_tcfg.html">UARTcfg</a> *&#160;</td>
          <td class="paramname"><em>cfg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Init a cfg struct with the default values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cfg</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae951f2378df19e6da62724dd2f7e0272"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae951f2378df19e6da62724dd2f7e0272">&sect;&nbsp;</a></span>put_UART()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void put_UART </td>
          <td>(</td>
          <td class="paramtype">const char&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a single character. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>The character to send </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae31b3b65e9273640bf4cc0fdab139dfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae31b3b65e9273640bf4cc0fdab139dfd">&sect;&nbsp;</a></span>puts_printf_UART()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int puts_printf_UART </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>stream</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The FILE stream method for uartavr_stdout. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>The character to write into the circular buffer </td></tr>
    <tr><td class="paramname">stream</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Always 0 currently</dd></dl>
<p><a class="el" href="uart_8h.html#a6f18cca034054ed763bff6eb168b2fb8" title="Initialize the UART on the microcontroller. ">init_UART()</a> will bind uartavr_stdout FILE stream to stdout. This way everything that will be written to stdout (e.g. with printf) will effectively be written in the circular buffer of uartavr. You need to link your application against printf_ftl or printf_min to make this work. </p><dl class="section see"><dt>See also</dt><dd>printf_examples.c in examples subfolder </dd></dl>

</div>
</div>
<a id="a0a0232d230a0f1e6bdf4430504e9aaee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a0232d230a0f1e6bdf4430504e9aaee">&sect;&nbsp;</a></span>puts_UART()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void puts_UART </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a string to the UART buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The string you want to send</td></tr>
  </table>
  </dd>
</dl>
<p>The macro CR will automatically appended to your string so you do not have to worry about this. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a0cee5575d5636e734232ff416862f9ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cee5575d5636e734232ff416862f9ed">&sect;&nbsp;</a></span>cb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_c_buffer.html">CBuffer</a>  cb</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Global instance of the circular buffer </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
